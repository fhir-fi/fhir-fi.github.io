"use strict";(self.webpackChunkfhir_demo_2025=self.webpackChunkfhir_demo_2025||[]).push([[3],{2687:function(e,t,a){a.r(t);var n=a(4506),r=a(6540);const o=e=>{let{fading:t=!1,generation:a,rotate:n,scale:o,x:i,y:s}=e;const[l,c]=r.useState(!1);return r.useLayoutEffect((()=>{t&&(c(!1),setTimeout((()=>{c(!0)}),500))}),[a,t]),r.createElement("g",{key:`generation${a}`,transform:`translate(${i},${s})`},r.createElement("path",{className:(t&&!l?"about-to-fade ":l?"fading ":"")+"leaf",transform:`scale(${o}) rotate(${n})`,d:"M20,0 a10 10 0 0 1 0 20 a10 10 0 0 1 -20 0 v-20 Z"}))},i=e=>{let{fading:t=!1,generation:a,remove:n=e=>e,rotate:o,scale:i,x:s,y:l}=e;const[c,d]=r.useState(!1);return r.useEffect((()=>{t&&setTimeout((()=>{d(!0)}),500)})),r.createElement("g",{key:`generation${a}`,transform:`translate(${s},${l})`},r.createElement("path",{className:(c?"fading ":"")+"flower",transform:`scale(${i}) rotate(${o})`,d:"M0,0 a10 10 0 0 1 0 20 a10 10 0 0 1 -20 0 a10 10 0 0 1 0 -20 a10 10 0 0 1 20 0 Z",onTransitionEnd:c?e=>{"fill-opacity"===e.propertyName&&n()}:e=>e}))},s=e=>{let{animated:t,animationDuration:a,height:s,width:l}=e;const c=s/5,d=r.useRef(0),u=r.useRef(0),m=r.useRef(null),[f,h]=r.useState(1),[p,$]=r.useState(.4),[g,y]=r.useState("M0,0"),[k,x]=r.useState(void 0),[E,M]=r.useState(void 0),[v,w]=r.useState([]),[b,S]=r.useState([]),[B,C]=r.useState([]),[N,L]=r.useState([]);function R(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);let a=e;for(;a===e||a===((n=e)>=4?n-4:n+4);)a=Math.floor(Math.random()*(t?8:4)+(t?0:6))%8;var n;return a}r.useEffect((()=>{function e(e){let{x:t,y:a,direction:n,short:r}=e,o=c*(r?.5:1)*(.5*Math.random()+.4),i=-1,d=-1,u=0;for(;i<=3||i>=l-3||d<=3||d>=s-3;){if(u++>10)return{x:t,y:a,direction:n};switch(n){case 0:i=t,d=a-o;break;case 1:i=t+o,d=a-o;break;case 2:i=t+o,d=a;break;case 3:i=t+o,d=a+o;break;case 4:i=t,d=a+o;break;case 5:i=t-o,d=a+o;break;case 6:i=t-o,d=a;break;case 7:i=t-o,d=a-o}}return{x:i,y:d}}let t=Math.random()*l,a=Math.random()*(.3*s)+.7*s,{x:n,y:o}={x:t,y:a},{x:i,y:m}=e({x:n,y:o,direction:0}),{x:f,y:h}=e({x:i,y:m,direction:Math.random()>=.5?1:7}),p=R(),{x:$,y:g}=e({x:f,y:h,direction:p});p=R(p);let{x:k,y:E}=e({x:$,y:g,direction:p});p=R(p);let{x:M,y:v}=e({x:k,y:E,direction:p}),b=Math.random()>.35,B=Math.ceil(3*Math.random())+1,C=[],N=[],A=[];const j=`M ${n} ${o} C ${i} ${m}, ${f} ${h}, ${$} ${g}${b?` S ${k} ${E} ${M} ${v}`:""}`;y(j);b&&(x({flowerGeneration:d.current,rotate:90*Math.random(),scale:1,x:M,y:v}),N.push({leaf:"flower0",path:j}));for(let s=0;s<B;s+=1){p=R(p,Math.random()>.5);let{x:t,y:a}=e({x:$,y:g,direction:p,short:!0});p=R(p,Math.random()>.5);let{x:l,y:c}=e({x:t,y:a,direction:p,short:!0});p=R(p,Math.random()>.5);let{x:d,y:y}=e({x:l,y:c,direction:p,short:!0});p=R(p,Math.random()>.5);let{x:k,y:x}=e({x:d,y:y,direction:p,short:!0});p=R(p,Math.random()>.5);let{x:E,y:M}=e({x:k,y:x,direction:p,short:!0});C.push(r.createElement("path",{key:`branch${s}`,className:"branch stalk",d:`M ${$} ${g} C ${t} ${a}, ${l} ${c}, ${d} ${y} S ${k} ${x} ${E} ${M}`,strokeWidth:Math.random()+.5})),w(C),A.push({generation:u.current,rotate:360*Math.random(),scale:.4,x:E,y:M}),S(A),N.push({leaf:`plant0leaf${s}`,path:`M ${n} ${o} C ${i} ${m}, ${f} ${h}, ${$} ${g} C ${t} ${a}, ${l} ${c}, ${d} ${y} S ${k} ${x} ${E} ${M}`}),L(N)}}),[s,c,l]);const A=r.useCallback((e=>{if(k)if(f<6)h(1.1*f);else{const e=f;h(1),M({...k,remove:()=>{M(void 0)},scale:e}),d.current+=1,x({...k,generation:d.current})}p<5?($(1.1*p),S((0,n.A)(b.map((e=>({...e,rotate:Math.min(Math.max(e.rotate+30*Math.random()-15,-360),360)})))))):(C((0,n.A)(b.map((e=>({...e,scale:p}))))),u.current+=1,S((0,n.A)(b.map((e=>({...e,generation:u.current,rotate:Math.min(Math.max(e.rotate+30*Math.random()-15,-360),360)}))))),$(.4))}),[k,d,f,u,p,b]);return r.useLayoutEffect((()=>{const e=m.current;if(e){var t;if(null!==(t=m.current)&&void 0!==t&&t.onrepeat)return e.addEventListener("repeatEvent",A),()=>{e.removeEventListener("repeatEvent",A)};{const t=t=>{A(t),e.beginElement()};return e.addEventListener("endEvent",t),e.beginElement(),()=>{e.removeEventListener("endEvent",t)}}}}),[m,A]),r.createElement("g",{className:"plant"},r.createElement("path",{className:"root stalk",d:g,strokeWidth:"2.5"}),v,t&&N.map(((e,t)=>{var n,o;return r.createElement("circle",{key:`pulse-${t}`,fill:"red",r:"2"},r.createElement("animateMotion",{begin:null!==(n=m.current)&&void 0!==n&&n.onrepeat?0:"indefinite",dur:`${a}s`,repeatCount:null!==(o=m.current)&&void 0!==o&&o.onrepeat?"indefinite":1,"data-leaf":e.leaf,path:e.path,ref:0===t?m:void 0}))})),b.map(((e,t)=>r.createElement(o,Object.assign({key:`leaf-${t}`},e,{scale:p})))),B.map(((e,t)=>r.createElement(o,Object.assign({key:`leaf-${t}-clone`},e,{fading:!0})))),k&&r.createElement(i,Object.assign({},k,{scale:f})),E&&r.createElement(i,Object.assign({},E,{fading:!0,className:"fade"})))},l=r.forwardRef(((e,t)=>{const{animated:a=!0,children:n,dimmed:o,height:i,location:l={},pageContext:c,pageResources:d,params:u,path:m,plantCount:f=17,serverData:h,speed:p=1,uri:$,width:g,...y}=e,{search:k}=l,[x,E]=r.useState(g),[M,v]=r.useState(i),[w,b]=r.useState(f),[S,B]=r.useState(a),[C,N]=r.useState(p),L=10/C,R=2*L;if(r.useEffect((()=>{const e=new URLSearchParams(k);if(x||(e.has("width")?E(+e.get("width")):E("undefined"!=typeof window?window.innerWidth:2560)),M||(e.has("height")?v(+e.get("height")):v("undefined"!=typeof window?window.innerHeight:1440)),e.has("plants")&&b(+e.get("plants")),e.has("animated")){const t=e.get("animated").toLowerCase();B(!["false","no","not"].some((e=>e===t)))}e.has("speed")&&N(+e.get("speed"))}),[M,k,B,v,b,N,E,x]),void 0===x)return null;const A=`\n    #plantBackground * {\n      transition: transform 0.6s ease-in-out, fill ${R}s ease-in-out, fill-opacity ${3*R}s ease-in-out;\n    }\n    #plantBackground line {\n      stroke-width: 0.5px;\n      stroke: #010259;\n      stroke-opacity: 0.4;\n    }\n    #plantBackground .stalk {\n      fill: none;\n      stroke: green;\n    }\n    #plantBackground .leaf, #plantBackground .flower, #plantBackground .about-to-fade {\n      fill: green;\n      fill-opacity: 1;\n    }\n    #plantBackground .fading {\n      fill: yellow;\n      fill-opacity: 0;\n    }${o?"\n    #plantBackground g {\n      opacity: 0.65;\n    }\n    ":""}\n    #plantBackground .about-to-fade {\n      transition: transform 0s ease-in-out, fill 0s ease-in-out, fill-opacity 0s ease-in-out\n    }\n\n    @media screen and (prefers-reduced-motion: reduce) {\n      #plantBackground * {\n        animation: none !important;\n      }\n      #plantBackground circle {\n        display: none;\n      }\n    }\n    @media print {\n      #plantBackground circle {\n        display: none;\n      }\n    }\n  `;return r.createElement("svg",Object.assign({id:"plantBackground",ref:t,xmlns:"http://www.w3.org/2000/svg",width:`${x}px`,height:`${M}px`,viewBox:`0 0 ${x} ${M}`,preserveAspectRatio:"xMidYMid slice"},y),r.createElement("defs",null,r.createElement("style",null,A),r.createElement("path",{id:"leaf",className:"leaf",d:"M20,0 a10 10 0 0 1 0 20 a10 10 0 0 1 -20 0 v-20 Z"}),r.createElement("path",{id:"flower",className:"leaf",d:"M0,0 a10 10 0 0 1 0 20 a10 10 0 0 1 -20 0 a10 10 0 0 1 0 -20 a10 10 0 0 1 20 0 Z"})),Array.from(Array(w)).map(((e,t)=>r.createElement(s,{key:`plant-${t}`,animated:S,animationDuration:L,height:M,width:x}))))}));t.default=l}}]);
//# sourceMappingURL=component---src-pages-background-js-eda2663327d45a87629c.js.map